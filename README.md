![](https://img.shields.io/github/languages/code-size/wakatsuki614/gis_app)
![](https://img.shields.io/circleci/build/github/wakatsuki614/gis_app)

# GI Sports

## GI Sportsとは
GI Sportsに登録されているスポーツ教室を検索から探すことができるサイトです。  
ご自身で運営されているスポーツ教室を登録することもできます。  
レスポンシブ対応しておりますので、スマートフォンからもご確認いただけます。
<img width="960" alt="demo1" src="https://user-images.githubusercontent.com/91055744/158723557-bcaaa0f4-ee7d-4606-8aac-c566059da304.png">

## 当サイトを作成した背景
当サイトから地元にあるスポーツ教室の情報を知り、スポーツを始めるきっかけになってほしいという思いを込めて作成しました。  
現在私は地元にあるテニススクールへ通っています。  
当時そのテニススクールの情報はホームページしかなく、まとめサイトからは見つけることができませんでした。  
ホームページは存在するがまとめサイトにはない、ホームページも存在せず近所の人たちしか認知していないようなスポーツ教室があることも知ってほしいのです。

## 当サイトの使い方

### 会員登録について
ヘッダーにある**新規会員登録**から会員登録を行えます。  
名前・メールアドレス・パスワードの登録はそれぞれ必須となっております。  
同じくヘッダーにある**アカウント設定**より会員情報の更新を行えます。

### スクール登録について
会員登録後、ヘッダーにある**スクール登録**からスクール情報を登録することができます。  
ご登録いただいたスクール情報の編集も同じくヘッダーの**登録済スクール**より行えます。  
ご登録には下記を入力していただく必要があります。  
・スクール名(必須)  
・メールアドレス(必須)  
・電話番号(必須)  
・所在地(必須)  
・スクール紹介(任意)  
・ホームページ(任意)  
・スクール画像(任意)

### 検索機能について

#### 「キーワード検索」  
スクール名、所在地のいずれかに部分一致したスクール情報を検索結果画面へ出力します。

#### 「地域で検索」  
検索結果画面に出力される条件はキーワード検索と同じです。

### 検索結果画面について
検索結果に表示されるスクール情報は、上から更新日が新しい順に表示されます。
<img width="960" alt="demo5" src="https://user-images.githubusercontent.com/91055744/158724318-9c39d950-1c1e-4235-846f-8dc704c22aed.png">

※更新日につきましては、**登録済スクール**の最終更新日よりご確認いただけます。
<img width="961" alt="demo4" src="https://user-images.githubusercontent.com/91055744/158724578-24bc1e95-714a-4c1c-8b2f-179751b7b1c1.png">

### 新着情報について
当サイトへ直近で登録されたスクール情報を表示します。

### コメント機能、いいね（参考になった）機能について
スクール詳細ページ下部よりスクールへのコメントを投稿することができます。  
コメントを投稿するには**新規会員登録**が必要です。  
コメントは上から投稿日が新しい順に表示されます。  
また、コメントに対して「参考になった」ボタンで反応することもできます。
<img width="960" alt="demo8" src="https://user-images.githubusercontent.com/91055744/161377437-df4e36d0-3a77-4a97-ab5f-e48078250ba1.png">

## ER図
![erd](https://user-images.githubusercontent.com/91055744/161376008-faab5df6-ce8b-49be-971e-9418ca967e1b.jpg)

## 使用技術
- Ruby 2.7.4
- Ruby on Rails 6.1.4.6
- MySQL
- Docker/Docker Compose
- CircleCI
- RSpec

## CircleCI CI/CD
GitHubへのpush時に、RSpecとRuboCopが自動で実行されます。

## 機能一覧
- 会員登録機能
- ログイン機能
- ゲストログイン機能
- スクール登録機能
- 画像アップロード機能(carrierwave)
- 検索機能
- 地図表示機能(geocoder)
- コメント機能
- いいね機能  
※当サイトでは、いいね = 参考になった

## テスト
- RSpec
  - Request Spec
  - Feature Spec
  - System Spec

## こだわったポイント
投稿コメントへ反応できるいいね（参考になった）機能にこだわりました。  
user情報とは紐づけておらず、ログアウトの状態でもボタンを押すことが可能です。  
しかし、同じ人が何度もボタンを押すことで押した回数分カウントされてしまう問題がありました。  
それを対策するために、押下時にIPアドレスを取得し、同じIPアドレスからの「参考になった」はカウントされないよう制限しました。
